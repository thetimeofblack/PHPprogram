<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Score Editor</title>
    <script>
        var unitCount;
        
        function changeTabNote(){
            if (document.getElementById("melody").style.display == "none"){
                document.getElementById("melody").style.display = "block";
                document.getElementById("chord").style.display = "none";
            }
        }

        function changeTabChord(){    
            if (document.getElementById("chord").style.display == "none"){
                document.getElementById("chord").style.display = "block";
                document.getElementById("melody").style.display = "none";
            }
        }

        function addNote(noteName){
            var tr1 = document.getElementById("melrow1");
            var td1 = tr1.insertCell();
            //td1.setAttribute ("className","tick");
            td1.colSpan = document.getElementById("noteLength").value;
            td1.innerHTML = document.getElementById("noteLength").value;
            //alert(tr1.cells.length);

            var tr2 = document.getElementById("melrow2");
            for (i=0;i<document.getElementById("noteLength").value;i++){
                var td2 = tr2.insertCell();
                //td2.style.width="200px";
                //td2.style.minwidth="200px";
                td2.setAttribute("width","50px");
                td2.style.backgroundColor="red";
            }
            //alert(tr2.cells.length);

            var tr3 = document.getElementById("melrow3");
            var td3 = tr3.insertCell();
            //td3.setAttribute ("className","tick");
            td3.colSpan = document.getElementById("noteLength").value;
            td3.innerHTML = noteName + document.getElementById("noteGroup").value;
       
            var tr4 = document.getElementById("melrow4");
            var td4 = tr4.insertCell();
            //td4.setAttribute ("className","tick");
            td4.colSpan = document.getElementById("noteLength").value;
            td4.innerHTML = "<button id=unitCount onclick='test()'>delete</button>";
            //alert(td4.colomn.count);

            unitCount += document.getElementById("noteLength").value;
        }


        function addChord(chordName, color){
            var tr5 = document.getElementById("chorow1");
            var td5 = tr5.insertCell();
            //td5.setAttribute ("className","tick");
            td5.colSpan = document.getElementById("chordLength").value;
            td5.innerHTML = document.getElementById("chordLength").value;
			
			var tr6 = document.getElementById("chorow2");
            for (i=0;i<document.getElementById("chordLength").value;i++){
                var td6 = tr6.insertCell();
                //td6.style.width="200px";
                //td6.style.minwidth="200px";
                td6.setAttribute("width","50px");
                td6.style.backgroundColor="blue";
            }
			
			var tr7 = document.getElementById("chorow3");
            var td7 = tr7.insertCell();
            td7.colSpan = document.getElementById("chordLength").value;
            //alert(document.getElementById("color").value);
			if (document.getElementById("color").value == "major"){
                td7.innerHTML = chordName + document.getElementById("chordGroup").value;
            }else if(document.getElementById("color").value == "minor"){
                td7.innerHTML = chordName + document.getElementById("chordGroup").value + "m";
            }

            var tr8 = document.getElementById("chorow4");
            var td8 = tr8.insertCell();
            //td8.setAttribute ("className","tick");
            td8.colSpan = document.getElementById("chordLength").value;
            td8.innerHTML = "<button>delete</button>";
        }

        function deleteNote(){


        }

        function test(){
            alert(document.getElementById(unitCount).id);
        }
    </script>
    <style>
        .tick{
            width:50px;
        }
    </style>
</head>
<body>
    <!-- login interface -->
    <header>
    </header>
    
    <!-- title -->
    <h1 align="center">Build your own score!</h1>
    
    <table style="table-layout:fixed;border:solid black 1px;width:1900px;" align="center">
        <tr>
            <!-- note choosing pad -->
            <td style="width:570px;">
                <!-- choosing window -->
                <div style="border:solid blue 1px">
                    <div align="center">
                        <button onclick="changeTabNote()">Melody</button>
                        <button onclick="changeTabChord()">Score</button>
                    </div>
                    <!-- note pad -->
                    <section id="melody" name="melody" style="display:block">
                        <table style="border:solid orange 1px;">
                            <tr>
                                <td>
                                    <button onclick="addNote('A')">A</button><br>
                                    <button onclick="addNote('A#')">A#</button><br>
                                    <button onclick="addNote('B')">B</button><br>
                                    <button onclick="addNote('B#')">B#</button><br>
                                    <button onclick="addNote('C')">C</button><br>
                                    <button onclick="addNote('C#')">C#</button><br>
                                    <button onclick="addNote('D')">D</button><br>
                                    <button onclick="addNote('D#')">D#</button><br>
                                    <button onclick="addNote('E')">E</button><br>
                                    <button onclick="addNote('F')">F</button><br>
                                    <button onclick="addNote('F#')">F#</button><br>
                                    <button onclick="addNote('G')">G</button><br>
                                    <button onclick="addNote('G#')">G#</button><br>
                                </td>
                                <td>
                                    <p>please select the note group</p>
                                    <select id="noteGroup" name="noteGroup">
                                        <option value="">---</option>
                                        <option value="-2">-2</option>
                                        <option value="-1">-1</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                    </select>
                                    <p>please select the length</p>
                                    <input type="text" size="1" maxlength="1" id="noteLength" name="noteLength"/>
                                </td>
                            </tr>
                        </table>
                        
                    </section>
					
                    <!-- chord pad -->
                    <section id="chord" name="chord" style="display:none">
                        <table style="border:solid orange 1px;">
                            <tr>
                                <td>
                                    <button onclick="addChord('A')">A</button><br>
                                    <button onclick="addChord('A#')">A#</button><br>
                                    <button onclick="addChord('B')">B</button><br>
                                    <button onclick="addChord('B#')">B#</button><br>
                                    <button onclick="addChord('C')">C</button><br>
                                    <button onclick="addChord('C#')">C#</button><br>
                                    <button onclick="addChord('D')">D</button><br>
                                    <button onclick="addChord('D#')">D#</button><br>
                                    <button onclick="addChord('E')">E</button><br>
                                    <button onclick="addChord('F')">F</button><br>
                                    <button onclick="addChord('F#')">F#</button><br>
                                    <button onclick="addChord('G')">G</button><br>
                                    <button onclick="addChord('G#')">G#</button><br>
                                </td>
                                <td>
                                    Please select the chord color
                                    <select id="color" name="color">
                                        <option value="major">Major</option>
                                        <option value="minor">Minor</option>
                                    </select>
                                    <br><br>
                                    Please select the note group
                                    <select id="chordGroup" name="chordGroup">
                                        <option value="">---</option>
                                        <option value="-2">-2</option>
                                        <option value="-1">-1</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                    </select>
									<p>please select the length</p>
                                    <input type="text" size="1" maxlength="1" id="chordLength" name="chordLength"/>
                                </td>
                            </tr>
                        </table>
                        
                    </section>
                </div>
            </td>
            <!-- display window -->
			<td style="width:1330px;">
                <div style="overflow-x:scroll;width:1300px;border:solid red 1px;">
                    <!-- melody display -->
                    <table id="melodyTable" style="table-layout:fixed;max-width:1300px;border:solid green 1px;">
                        <tr id="melrow1" height="20px;">
                            <td>1</td>
                        </tr>
                        <tr id="melrow2" height="20px;">
                            <td>2</td>
                        </tr>
                        <tr id="melrow3" height="20px;">
                            <td>3</td>
                        </tr>
                        <tr id="melrow4" height="20px;">
                            <td>4</td>
                        </tr>
                    </table>
                </div>
                <br><br>
                <div style="overflow-x:scroll;width:1300px;border:solid red 1px;">
                    <!-- chord display -->
                    <table border="1" id="chordTable" style="table-layout:fixed;max-width:1300px;border:solid yellow 1px;">
                        <tr id="chorow1" height="20px;">
                            <td>5</td>
                        </tr>
                        <tr id="chorow2" height="20px;">
                            <td>6</td>
                        </tr>
                        <tr id="chorow3" height="20px;">
                            <td>7</td>
                        </tr>
                        <tr id="chorow4" height="20px;">
                            <td>8</td>
                        </tr>
                    </table>
                </div>
                <br><br>
                <div>
                    <button name="play">play</button>
                    <button name="pause">pause</button>
                    <button name="stop">stop</button>
                    <form action="save.php" method="POST" onsubmit="saveData(o)">
                        <input id="scorename" name ="scorename" type="text"  style="display: none;"/>
                        <input id="scoredescription" name ="scoredescription" type="text"  style="display: none;"/>
                        <input id="melodyname" name ="melodyname" type="text"  style="display: none;"/>
                        <input id="melodydescription" name ="melodydescription" type="text"  style="display: none;"/>
                        <input id="lengthlist" name ="lengthlist" type="text"  style="display: none;"/>
                        <input id="chordlist" name ="chordlist" type="text"  style="display: none;"/>
                        <input id="timelist" name ="timelist" type="text"  style="display: none;"/>
                        <input id="notelist" name ="notelist" type="text"  style="display: none;"/>
                        <input name="save" type="submit" style="margin-left:20%;">save</input>
                    </form>
                </div>
            </td>
        </tr>
    </table>
    <script>
        function sendData() {
            var notelist ;
            var lengthlist;
            var timelist ;
            var chordlist;
            var melodytdlist1 = document.getElementById("melrow1").childNodes;
            var melodytdlist3 = document.getElementById("melrow3").childNodes;
            var scoretdlist1  = document.getElementById("chorow1").childNodes;
            var scoretdlist3  = document.getElementById("chorow3").childNodes;
                for (var i = 3; i < melodytdlist1.length; i++) {


                    var postMelody = document.getElementById("Melody2");
                    //document.getElementById("postMelody").innerHTML = element1.innerHTML+element2.innerHTML+element3.innerHTML;
                    var poststring = element1.innerHTML+element2.innerHTML+element3.innerHTML;
                    alert(poststring);
                    postMelody.innerHTML=poststring ;
                    alert(postMelody.innerHTML);

            }
                    alert(document.getElementById("postMelody").innerHTML);
                    o.submit();
        }
    </script>
    
</body>
</html>